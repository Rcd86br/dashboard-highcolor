msg.textContent = "";
msg.style.color = "#e74c3c";

if (!validarDominio(email)) {
  msg.textContent = "E-mail não autorizado.";
  return;
}

if (senha !== confirmacao) {
  msg.textContent = "As senhas não coincidem.";
  return;
}

const { error } = await supabase
  .from("acessos_powerbi")
  .insert([{ senha: senha, ativo: true }]);

if (error) {
  msg.textContent = "Erro ao cadastrar.";
} else {
  msg.style.color = "green";
  msg.textContent = "Cadastro realizado com sucesso!";
}
